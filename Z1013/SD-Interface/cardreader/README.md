<p align="center">
  <img src="https://github.com/devicplan/z80/blob/main/cardreader/pictures/z1013_cardreader_prototype_f.JPG">
</p>


# Zusatzkarte Programmspeicher mit SD Karte
Das Laden und Speichern von Programmen mache ich nicht mehr über mein Kassettendeck. Mit einem älteren Windows 7 Laptop nutze ich die Anwendung KCLOAD. Über diese kann ich Programme im Format Z80 in meinen Z1013 laden und auch wieder in eine Z80 Datei schreiben. Der Z1013 muss aber zwingend mit 2 MHz Takt laufen! Es ist jedoch etwas umständlich immer den Laptop einzuschalten und dann die Soundkarte vom Laptop (kleine Klinkenstecker) mit dem Z1013 (Diodenbuchse) zu verbinden.
Es reift die Idee einen Datenträger zu nutzen und diesen direkt aus dem Z1013 zu verwenden. Schon in anderen Projekten nutze ich SD Karten. Diese lassen sich, formatiert mit FAT32 und etwas Software auslesen und auch wieder beschreiben. Als Prototyp baue ich eine CTC / SIO Karte die auch mit einem Raspberry Pico bestückt ist. Der Raspberry Pico übernimmt die Aufgabe die SD Karte auszulesen und zu beschreiben. Die Datenübertragung zwischen Pico und dem Z1013 erfolgt seriell über die SIO. Leider kann man aus dem 2 MHz Systemtakt keine passenden Taktraten mit der CTC gewinnen. Die Fehlerquote der Taktabweichung bei 8 Bit wäre viel zu hoch. So werde ich nicht über die CTC den Takt gewinnen, sondern setze einen zusätzlichen Taktgeber mit einem 9,8304 MHz Quarz ein. So ein Quarz ist problemlos zu bekommen und nach einer Teilung durch 16 erhält man 614,4 KHz. Diesen Takt kann die SIO mit einem Verteiler von 32 auf 19200 Baud herunterteilen. Ich werde also 19200 Baud zwischen Raspberry Pico und SIO verwenden. Auch der Pegel muss noch etwas angepasst werden. Der Pico arbeitet mit 3,3 und der Z1013 mit 5 Volt. Sollte ich mal später eine Leiterplatte entwickeln, werde ich keine CTC verwenden. Später werde ich aber einen Raspberry Pico W verwenden, die Software schreibe ich mit Micropython.

