<p align="center">
  <img src="https://github.com/devicplan/z80/blob/main/cardreader/pictures/z1013_cardreader_prototype_f.JPG">
</p>

# Additional program memory card with SD card
I no longer use my cassette deck to load and save programs. I use the KCLOAD application with an older Windows 7 laptop. I can use this to load programs in Z80 format into my Z1013 and also write them back to a Z80 file. However, the Z1013 must run at 2 MHz! However, it is somewhat inconvenient to always switch on the laptop and then connect the sound card from the laptop (small jack plug) to the Z1013 (diode socket).
The idea of using a data carrier and using it directly from the Z1013 matures. I already use SD cards in other projects. Formatted with FAT32 and some software, they can be read and written to again. As a prototype, I am building a CTC / SIO card that is also equipped with a Raspberry Pico. The Raspberry Pico takes over the task of reading and writing to the SD card. The data transfer between the Pico and the Z1013 takes place serially via the SIO. Unfortunately, it is not possible to obtain suitable clock rates from the 2 MHz system clock with the CTC. The error rate of the clock deviation at 8 bits would be far too high. So I will not obtain the clock via the CTC, but use an additional clock generator with a 9.8304 MHz crystal. Such a crystal is easy to obtain and after dividing by 16 you get 614.4 KHz. The SIO can divide this clock from 32 to 19200 baud with a distributor. I will therefore use 19200 baud between the Raspberry Pico and the SIO. The level also needs to be adjusted a little. The Pico works with 3.3 volts and the Z1013 with 5 volts. If I develop a circuit board later, I will not use a CTC. Later, however, I will use a Raspberry Pico W and write the software with Micropython.

Since the W type of the Pico can be connected to the Internet, the Z1013 will certainly have network / Internet capability.



# Zusatzkarte Programmspeicher mit SD Karte
Das Laden und Speichern von Programmen mache ich nicht mehr über mein Kassettendeck. Mit einem älteren Windows 7 Laptop nutze ich die Anwendung KCLOAD. Über diese kann ich Programme im Format Z80 in meinen Z1013 laden und auch wieder in eine Z80 Datei schreiben. Der Z1013 muss aber zwingend mit 2 MHz Takt laufen! Es ist jedoch etwas umständlich immer den Laptop einzuschalten und dann die Soundkarte vom Laptop (kleine Klinkenstecker) mit dem Z1013 (Diodenbuchse) zu verbinden.
Es reift die Idee einen Datenträger zu nutzen und diesen direkt aus dem Z1013 zu verwenden. Schon in anderen Projekten nutze ich SD Karten. Diese lassen sich, formatiert mit FAT32 und etwas Software auslesen und auch wieder beschreiben. Als Prototyp baue ich eine CTC / SIO Karte die auch mit einem Raspberry Pico bestückt ist. Der Raspberry Pico übernimmt die Aufgabe die SD Karte auszulesen und zu beschreiben. Die Datenübertragung zwischen Pico und dem Z1013 erfolgt seriell über die SIO. Leider kann man aus dem 2 MHz Systemtakt keine passenden Taktraten mit der CTC gewinnen. Die Fehlerquote der Taktabweichung bei 8 Bit wäre viel zu hoch. So werde ich nicht über die CTC den Takt gewinnen, sondern setze einen zusätzlichen Taktgeber mit einem 9,8304 MHz Quarz ein. So ein Quarz ist problemlos zu bekommen und nach einer Teilung durch 16 erhält man 614,4 KHz. Diesen Takt kann die SIO mit einem Verteiler von 32 auf 19200 Baud herunterteilen. Ich werde also 19200 Baud zwischen Raspberry Pico und SIO verwenden. Auch der Pegel muss noch etwas angepasst werden. Der Pico arbeitet mit 3,3 und der Z1013 mit 5 Volt. Sollte ich mal später eine Leiterplatte entwickeln, werde ich keine CTC verwenden. Später werde ich aber einen Raspberry Pico W verwenden, die Software schreibe ich mit Micropython.

Da man den W Type des Pico ins Internet bringen kann, kommt bestimmt darüber auch mal eine Netzwerk- / Internetfähigkeit in den Z1013.

